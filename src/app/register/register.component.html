<div class="container main flex justify-content-center align-items-center">
  <div class=" row flex justify-content-center align-items-center">
    <div class="col d-none d-md-block">
      <img  src="assets/register.svg"
           class="img-fluid" alt="register image"></div>
    <div class="col justify-content-center text-center">
      <div class="form-inputs w-100">
        <h1 class="text-center"><b>{{ 'REGISTER.TITLE' | translate}}</b></h1>
      </div>
      <form [formGroup]="registerGroup" (ngSubmit)="register()">
        <div>
          <div class="p-inputgroup form-inputs">
            <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
            <span class="p-float-label">
            <input name="username" type="text" pInputText id="username" formControlName="username">
            <label for="username">{{ 'REGISTER.LOGIN' | translate }}</label>
          </span>
          </div>
          <div *ngIf="registerGroup.get('username')?.invalid &&
        registerGroup.get('username')?.errors">
            <small class="text-danger"
                   *ngIf="registerGroup.get('username')?.hasError('required') && (registerGroup.get('username')?.dirty || registerGroup.get('username')?.touched)">
              {{ 'REGISTER.FIELD_REQUIRED' | translate }}
            </small>
            <small class="text-danger"
                   *ngIf="registerGroup.get('username')?.hasError('minlength') && registerGroup.get('username')?.dirty">
              {{ 'REGISTER.MIN_5_CHARS' | translate }}
            </small>
          </div>
        </div>
        <div class="mt-4">
          <div class="p-inputgroup form-inputs">
            <span class="p-inputgroup-addon"><i class="pi pi-comment"></i></span>
            <span class="p-float-label">
            <input name="name" type="text" pInputText id="name" formControlName="name">
            <label for="name">{{ 'REGISTER.NAME' | translate }}</label>
            </span>
          </div>
          <div *ngIf="registerGroup.get('name')?.invalid &&
        registerGroup.get('name')?.errors">
            <small class="text-danger"
                   *ngIf="registerGroup.get('name')?.hasError('required') && (registerGroup.get('name')?.dirty || registerGroup.get('name')?.touched)">
              {{ 'REGISTER.FIELD_REQUIRED' | translate }}
            </small>
          </div>
        </div>
        <div class="mt-4">
          <div class="p-inputgroup form-inputs">
            <span class="p-inputgroup-addon"><i class="pi pi-comment"></i></span>
            <span class="p-float-label">
            <input name="lastname" type="text" pInputText id="lastname" formControlName="lastname">
            <label for="lastname">{{ 'REGISTER.LASTNAME' | translate }}</label>
            </span>
          </div>
          <div *ngIf="registerGroup.get('lastname')?.invalid &&
        registerGroup.get('lastname')?.errors">
            <small class="text-danger"
                   *ngIf="registerGroup.get('lastname')?.hasError('required') && (registerGroup.get('lastname')?.dirty || registerGroup.get('lastname')?.touched)">
              {{ 'REGISTER.FIELD_REQUIRED' | translate }}
            </small>
          </div>
        </div>
        <div class="mt-4">
          <div class="p-inputgroup form-inputs">
            <span class="p-inputgroup-addon"><i class="pi pi-flag-fill"></i></span>
            <span class="p-float-label">
            <input name="companyName" type="text" pInputText id="companyName" formControlName="companyName">
            <label for="companyName">{{ 'REGISTER.COMPANY_NAME' | translate }}</label>
            </span>
          </div>
          <div *ngIf="registerGroup.get('companyName')?.invalid &&
        registerGroup.get('companyName')?.errors">
            <small class="text-danger"
                   *ngIf="registerGroup.get('companyName')?.hasError('required') && (registerGroup.get('companyName')?.dirty || registerGroup.get('companyName')?.touched)">
              {{ 'REGISTER.FIELD_REQUIRED' | translate }}
            </small>
          </div>
        </div>
        <div class="mt-4">
          <div class="p-inputgroup form-inputs">
            <span class="p-inputgroup-addon"><i class="pi pi-envelope"></i></span>
            <span class="p-float-label">
            <input name="email" type="email" pInputText id="email" formControlName="email">
            <label for="email">{{ 'REGISTER.EMAIL' | translate }}</label>
            </span>
          </div>
          <div *ngIf="registerGroup.get('email')?.invalid &&
        registerGroup.get('email')?.errors">
            <small class="text-danger"
                   *ngIf="registerGroup.get('email')?.hasError('required') && (registerGroup.get('email')?.dirty || registerGroup.get('email')?.touched)">
              {{ 'REGISTER.FIELD_REQUIRED' | translate }}
            </small>
            <small class="text-danger"
                   *ngIf="registerGroup.get('email')?.hasError('email') && registerGroup.get('email')?.dirty">
              {{ 'REGISTER.EMAIL_ERROR' | translate }}
            </small>
          </div>
        </div>
        <div class="mt-4">
          <div class="p-inputgroup form-inputs">
            <span class="p-inputgroup-addon"><i class="pi pi-dollar"></i></span>
            <span class="p-float-label">
              <p-dropdown autoWidth="false" [style]="{'width':'100%'}" [options]="currencies"
                          formControlName="defaultCurrencyCode" id="currency" name="currency"
                          placeholder="{{ 'REGISTER.CURRENCY_CODE' | translate }}" [showClear]="true"></p-dropdown>
            <label for="currency">{{ 'REGISTER.CURRENCY_CODE' | translate }}</label>
            </span>
          </div>
          <div *ngIf="registerGroup.get('defaultCurrencyCode')?.invalid &&
        registerGroup.get('defaultCurrencyCode')?.errors">
            <small class="text-danger"
                   *ngIf="registerGroup.get('defaultCurrencyCode')?.hasError('required') && (registerGroup.get('defaultCurrencyCode')?.dirty || registerGroup.get('defaultCurrencyCode')?.touched)">
              {{ 'REGISTER.FIELD_REQUIRED' | translate }}
            </small>
          </div>
        </div>
        <div class="mt-4">
          <div class="p-inputgroup form-inputs">
            <span class="p-inputgroup-addon visibility" (click)="visibility_change()">
              <i *ngIf="!visibility" class="pi pi-lock"></i>
              <i *ngIf="visibility" class="pi pi-unlock"></i>
            </span>
            <span class="p-float-label">
            <input [type]="visibility? 'text' : 'password'"
                   name="password" type="text" pInputText id="password" formControlName="password">
            <label for="password">{{ 'REGISTER.PASSWORD' | translate }}</label>
          </span>
          </div>
          <div *ngIf="registerGroup.get('password')?.invalid &&
        registerGroup.get('password')?.errors">
            <small class="text-danger"
                   *ngIf="registerGroup.get('password')?.hasError('required') && (registerGroup.get('password')?.dirty || registerGroup.get('password')?.touched)">
              {{ 'REGISTER.FIELD_REQUIRED' | translate }}
            </small>
            <small class="text-danger"
                   *ngIf="registerGroup.get('password')?.hasError('minlength') && registerGroup.get('password')?.dirty">
              {{ 'REGISTER.MIN_8_CHARS' | translate }}
            </small>
          </div>
        </div>
        <div class="mt-4">
          <div class="p-inputgroup form-inputs">
            <span class="p-inputgroup-addon visibility" (click)="visibilityRepeat_change()">
              <i *ngIf="!visibilityRepeat" class="pi pi-lock"></i>
              <i *ngIf="visibilityRepeat" class="pi pi-unlock"></i>
            </span>
            <span class="p-float-label">
            <input name="repeatPassword" [type]="visibilityRepeat? 'text' : 'password'" pInputText id="repeatPassword" formControlName="repeatPassword">
            <label for="repeatPassword">{{ 'REGISTER.PASSWORD' | translate }}</label>
          </span>
          </div>
          <div *ngIf="registerGroup.get('repeatPassword')?.invalid &&
        registerGroup.get('repeatPassword')?.errors">
            <small class="text-danger"
                   *ngIf="registerGroup.get('repeatPassword')?.hasError('required') && (registerGroup.get('repeatPassword')?.dirty || registerGroup.get('repeatPassword')?.touched)">
              {{ 'REGISTER.FIELD_REQUIRED' | translate }}
            </small>
            <small class="text-danger"
                   *ngIf="registerGroup.get('repeatPassword')?.hasError('minlength') && registerGroup.get('repeatPassword')?.dirty">
              {{ 'REGISTER.MIN_8_CHARS' | translate }}
            </small>
            <small class="text-danger"
                   *ngIf="registerGroup.get('repeatPassword')?.hasError('mustMatch') && registerGroup.get('repeatPassword')?.dirty">
              {{ 'REGISTER.NOT_MATCH_PASSWORD' | translate }}
            </small>
          </div>
        </div>
        <div>
          <div class="mt-4">
            <button pButton pRipple [disabled]="registerGroup.invalid" class="p-button-rounded w-100" type="submit"
                    label="{{ 'REGISTER.REGISTER' | translate}}" icon="pi pi-check"></button>
          </div>
          <div class="mt-2">
            <h3>{{ 'REGISTER.LOGIN_INFO' | translate }} <a style="color: dodgerblue; cursor: pointer" (click)="goToLogin()"><b>{{ 'REGISTER.LOGIN_LINK' | translate }}</b></a></h3>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<p-toast class="d-none d-md-block" position="top-right"></p-toast>
<p-toast class="d-block d-md-none" styleClass="toast-mobile" position="top-center"></p-toast>
